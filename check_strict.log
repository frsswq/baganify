$ ultracite check
src/components/color-picker.tsx:222:38 lint/suspicious/noArrayIndexKey ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Avoid using the index of an array as key property in an element.
  
    220 │             <div className="grid grid-cols-10 gap-[1px]">
    221 │               {THEME_COLORS.map((row, rowIndex) => (
  > 222 │                 <React.Fragment key={rowIndex}>
        │                                      ^^^^^^^^
    223 │                   {row.map((c, colIndex) => (
    224 │                     <ColorSwatch
  
  i This is the source of the key value.
  
    219 │             </div>
    220 │             <div className="grid grid-cols-10 gap-[1px]">
  > 221 │               {THEME_COLORS.map((row, rowIndex) => (
        │                                       ^^^^^^^^
    222 │                 <React.Fragment key={rowIndex}>
    223 │                   {row.map((c, colIndex) => (
  
  i The order of the items may change, and this also affects performances and component state.
  
  i Check the React documentation. 
  

src/components/color-picker.tsx:228:43 lint/suspicious/noArrayIndexKey ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Avoid using the index of an array as key property in an element.
  
    226 │                       color={c}
    227 │                       isSelected={c.toLowerCase() === color.toLowerCase()}
  > 228 │                       key={`${rowIndex}-${colIndex}`}
        │                                           ^^^^^^^^
    229 │                       onClick={() => handleColorClick(c)} // Spacing after first row
    230 │                     />
  
  i This is the source of the key value.
  
    221 │               {THEME_COLORS.map((row, rowIndex) => (
    222 │                 <React.Fragment key={rowIndex}>
  > 223 │                   {row.map((c, colIndex) => (
        │                                ^^^^^^^^
    224 │                     <ColorSwatch
    225 │                       className={rowIndex === 0 ? "mb-1" : ""}
  
  i The order of the items may change, and this also affects performances and component state.
  
  i Check the React documentation. 
  

src/components/property-panel.tsx:22:17 lint/complexity/noExcessiveCognitiveComplexity ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Excessive complexity of 27 detected (max: 20).
  
    20 │ import { Separator } from "./ui/separator";
    21 │ 
  > 22 │ export function PropertyPanel() {
       │                 ^^^^^^^^^^^^^
    23 │   const { shapes, selectedIds, updateShape, updateShapes, removeShape } =
    24 │     useShapeStore();
  
  i Please refactor this function to reduce its complexity score from 27 to the max allowed complexity 20.
  

src/components/property-panel.tsx:28:43 lint/suspicious/noExplicitAny ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Unexpected any. Specify a different type.
  
    27 │   const isMulti = selectedShapes.length > 1;
  > 28 │   const firstShape = selectedShapes[0] as any;
       │                                           ^^^
    29 │ 
    30 │   // Placeholder for empty selection
  
  i any disables many type checking rules. Its use should be avoided.
  

src/components/property-panel.tsx:35:11 lint/a11y/noSvgWithoutTitle ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Alternative text title element cannot be empty
  
    33 │       <div className="flex h-full w-full flex-col items-center justify-center p-4 text-center text-gray-400">
    34 │         <div className="mb-2">
  > 35 │           <svg
       │           ^^^^
  > 36 │             className="opacity-20"
        ...
  > 42 │             width="64"
  > 43 │           >
       │           ^
    44 │             <rect height="18" rx="2" width="18" x="3" y="3" />
    45 │             <path d="M9 3v18" />
  
  i For accessibility purposes, SVGs should have an alternative text, provided via title element. If the svg element has role="img", you should add the aria-label or aria-labelledby attribute.
  

src/components/property-panel.tsx:68:39 lint/suspicious/noExplicitAny ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Unexpected any. Specify a different type.
  
    67 │   // Handlers for batch updates
  > 68 │   const handleBatchUpdate = (updates: any) => {
       │                                       ^^^
    69 │     updateShapes(
    70 │       selectedShapes.map((s) => s.id),
  
  i any disables many type checking rules. Its use should be avoided.
  

src/components/property-panel.tsx:189:36 lint/correctness/useParseIntRadix  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Missing radix parameter
  
    187 │                     className="h-7 border border-gray-200 bg-gray-50 px-1 text-center text-xs transition-colors focus:bg-white"
    188 │                     onChange={(e) => {
  > 189 │                       const size = Number.parseInt(e.target.value) || 12;
        │                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    190 │                       handleBatchUpdate({
    191 │                         labelFontSize: size,
  
  i Add a non-fractional number between 2 and 36
  
  i Unsafe fix: Add a radix of 10
  
    189 │ ······················const·size·=·Number.parseInt(e.target.value,·10)·||·12;
        │                                                                  ++++        

src/components/property-panel.tsx:224:30 lint/correctness/useParseIntRadix  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Missing radix parameter
  
    222 │                   onChange={(e) =>
    223 │                     updateShape(firstShape.id, {
  > 224 │                       width: Number.parseInt(e.target.value) || 50,
        │                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    225 │                     })
    226 │                   }
  
  i Add a non-fractional number between 2 and 36
  
  i Unsafe fix: Add a radix of 10
  
    224 │ ······················width:·Number.parseInt(e.target.value,·10)·||·50,
        │                                                            ++++        

src/components/property-panel.tsx:239:31 lint/correctness/useParseIntRadix  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Missing radix parameter
  
    237 │                   onChange={(e) =>
    238 │                     updateShape(firstShape.id, {
  > 239 │                       height: Number.parseInt(e.target.value) || 30,
        │                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    240 │                     })
    241 │                   }
  
  i Add a non-fractional number between 2 and 36
  
  i Unsafe fix: Add a radix of 10
  
    239 │ ······················height:·Number.parseInt(e.target.value,·10)·||·30,
        │                                                             ++++        

src/components/property-panel.tsx:257:39 lint/correctness/useParseIntRadix  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Missing radix parameter
  
    255 │                     onChange={(e) =>
    256 │                       updateShape(firstShape.id, {
  > 257 │                         cornerRadius: Number.parseInt(e.target.value) || 0,
        │                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    258 │                       } as Partial<RectangleShape>)
    259 │                     }
  
  i Add a non-fractional number between 2 and 36
  
  i Unsafe fix: Add a radix of 10
  
    257 │ ························cornerRadius:·Number.parseInt(e.target.value,·10)·||·0,
        │                                                                     ++++       

src/components/property-panel.tsx:328:26 lint/complexity/noForEach ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Prefer for...of instead of forEach.
  
    326 │         <Button
    327 │           className="h-8 w-full text-red-500 hover:bg-red-50 hover:text-red-600"
  > 328 │           onClick={() => selectedShapes.forEach((s) => removeShape(s.id))}
        │                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    329 │           size="sm"
    330 │           variant="ghost"
  
  i forEach may lead to performance issues when working with large arrays. When combined with functions like filter or map, this causes multiple iterations over the same type.
  

src/components/property-panel.tsx:328:41 lint/suspicious/useIterableCallbackReturn ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × This callback passed to forEach() iterable method should not return a value.
  
    326 │         <Button
    327 │           className="h-8 w-full text-red-500 hover:bg-red-50 hover:text-red-600"
  > 328 │           onClick={() => selectedShapes.forEach((s) => removeShape(s.id))}
        │                                         ^^^^^^^
    329 │           size="sm"
    330 │           variant="ghost"
  
  i Either remove this return or remove the returned value.
  
    326 │         <Button
    327 │           className="h-8 w-full text-red-500 hover:bg-red-50 hover:text-red-600"
  > 328 │           onClick={() => selectedShapes.forEach((s) => removeShape(s.id))}
        │                                                        ^^^^^^^^^^^^^^^^^
    329 │           size="sm"
    330 │           variant="ghost"
  

src/components/property-panel.tsx:369:9 lint/a11y/useButtonType ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Provide an explicit type prop for the button element.
  
    367 │     <div className="flex gap-0.5 rounded-md bg-gray-100 p-0.5">
    368 │       {options.map((opt) => (
  > 369 │         <button
        │         ^^^^^^^
  > 370 │           className={cn(
         ...
  > 378 │           title={opt.tooltip}
  > 379 │         >
        │         ^
    380 │           {opt.label}
    381 │         </button>
  
  i The default type of a button is submit, which causes the submission of a form when placed inside a `form` element. This is likely not the behaviour that you want inside a React application.
  
  i Allowed button types are: submit, button or reset
  

src/components/toast.tsx:19:3 lint/style/useBlockStatements  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Block statements are preferred in this position.
  
    17 │   }, [visible, onClose]);
    18 │ 
  > 19 │   if (!visible) return null;
       │   ^^^^^^^^^^^^^^^^^^^^^^^^^^
    20 │ 
    21 │   return (
  
  i Unsafe fix: Wrap the statement with a `JsBlockStatement`
  
    19 │ ··if·(!visible)·{·return·null;·}
       │                 ++            ++

src/components/toolbar.tsx:17:17 lint/complexity/noExcessiveCognitiveComplexity ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Excessive complexity of 21 detected (max: 20).
  
    15 │ import { Separator } from "./ui/separator";
    16 │ 
  > 17 │ export function Toolbar() {
       │                 ^^^^^^^
    18 │   const {
    19 │     shapes,
  
  i Please refactor this function to reduce its complexity score from 21 to the max allowed complexity 20.
  

src/components/toolbar.tsx:69:21 lint/style/noNestedTernary ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Do not nest ternary expressions.
  
    67 │                 hasParent
    68 │                   ? "Shape already has a parent"
  > 69 │                   : hasVerticalParent
       │                     ^^^^^^^^^^^^^^^^^
  > 70 │                     ? "Cannot add parent to stacked item"
  > 71 │                     : "Add Parent (Level Up)"
       │                     ^^^^^^^^^^^^^^^^^^^^^^^^^
    72 │               }
    73 │               variant="ghost"
  
  i Nesting ternary expressions can make code more difficult to understand.
  
  i Convert nested ternary expression into if-else statements or separate the conditions to make the logic easier to understand.
  

src/components/ui/field.tsx:81:7 lint/a11y/useSemanticElements ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The elements with this role can be changed to the following elements:
    <fieldset>
  
    79 │       data-orientation={orientation}
    80 │       data-slot="field"
  > 81 │       role="group"
       │       ^^^^^^^^^^^^
    82 │       {...props}
    83 │     />
  
  i For examples and more information, see WAI-ARIA Roles
  

src/components/ui/field.tsx:196:30 lint/suspicious/noDoubleEquals  FIXABLE  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Using == may be unsafe if you are relying on type coercion.
  
    194 │     ];
    195 │ 
  > 196 │     if (uniqueErrors?.length == 1) {
        │                              ^^
    197 │       return uniqueErrors[0]?.message;
    198 │     }
  
  i == is only allowed when comparing against null.
  
  i Unsafe fix: Use === instead.
  
    196 │ ····if·(uniqueErrors?.length·===·1)·{
        │                                +     

src/components/ui/field.tsx:204:40 lint/suspicious/noArrayIndexKey ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Avoid using the index of an array as key property in an element.
  
    202 │         {uniqueErrors.map(
    203 │           (error, index) =>
  > 204 │             error?.message && <li key={index}>{error.message}</li>
        │                                        ^^^^^
    205 │         )}
    206 │       </ul>
  
  i This is the source of the key value.
  
    201 │       <ul className="ml-4 flex list-disc flex-col gap-1">
    202 │         {uniqueErrors.map(
  > 203 │           (error, index) =>
        │                   ^^^^^
    204 │             error?.message && <li key={index}>{error.message}</li>
    205 │         )}
  
  i The order of the items may change, and this also affects performances and component state.
  
  i Check the React documentation. 
  

src/components/ui/input-group.tsx:16:7 lint/a11y/useSemanticElements ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × The elements with this role can be changed to the following elements:
    <fieldset>
  
    14 │       )}
    15 │       data-slot="input-group"
  > 16 │       role="group"
       │       ^^^^^^^^^^^^
    17 │       {...props}
    18 │     />
  
  i For examples and more information, see WAI-ARIA Roles
  

The number of diagnostics exceeds the limit allowed. Use --max-diagnostics to increase it.
Diagnostics not shown: 66.
Checked 38 files in 60ms. No fixes applied.
Found 86 errors.
check ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  × Some errors were emitted while running checks.
  

Error: Lint errors found
    at <anonymous> (/home/frsswq/code/shape-builder/node_modules/ultracite/dist/index.js:313:13049)
    at async resolveMiddleware (/home/frsswq/code/shape-builder/node_modules/@trpc/server/dist/initTRPC-T5bbc89W.mjs:221:23)
    at async callRecursive (/home/frsswq/code/shape-builder/node_modules/@trpc/server/dist/initTRPC-T5bbc89W.mjs:256:24)
    at processTicksAndRejections (native:7:39)
error: script "check" exited with code 1
